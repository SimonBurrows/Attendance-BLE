function __processArg(t,e){var i=null;return t&&(i=t[e]||null,delete t[e]),i}function Controller(){function t(t){Ti.API.info("updateInformation called"),"blueberry"===t.identifier?(r.marshmellowProximity.text=t.proximity,r.marshmellowRSSI.text=t.rssi,"near"===t.proximity?Ti.API.info("proximity called near"):"immediate"===t.proximity?(Ti.API.info("proximity called immediate"),i()):"far"===t.proximity&&Ti.API.info("proximity called far")):"MacBookPro"===t.identifier&&(r.mintProximity.text=t.proximity,r.mintRSSI.text=t.rssi,"near"===t.proximity?Ti.API.info("Near"):"far"===t.proximity&&Ti.API.info("Far"))}function e(){r.rangingSwitch.value?(o.startRangingForBeacons({uuid:"E3EFA72E-B6EC-4B0D-B3F9-9A2ABCEAC57F",identifier:"blueberry"}),o.startRangingForBeacons({uuid:"08D4A950-80F0-4D42-A14B-D53E063516E6",identifier:"MacBookPro",major:61001,minor:13001}),o.startRangingForBeacons({uuid:"B9407F30-F5F8-466E-AFF9-25556B57FE6D",identifier:"marshmellow",major:8702,minor:11168})):o.stopRangingForBeacons()}function i(){if(Ti.App.iOS.scheduleLocalNotification({date:new Date((new Date).getTime()+2200),alertBody:"Hey Adnan, make sure you wear seat belts!",badge:1,sound:"default",userInfo:{url:"http://www.download.com/resource/asset.json",id:"1"},category:"DOWNLOAD_CONTENT"}),parseInt(Ti.Platform.version.split(".")[0])>=8){Ti.API.info("I am iOS 8!");var t=Ti.App.iOS.createUserNotificationAction({identifier:"ACCEPT_IDENTIFIER",title:"Accept",activationMode:Ti.App.iOS.USER_NOTIFICATION_ACTIVATION_MODE_FOREGROUND,destructive:!1,authenticationRequired:!0}),e=Ti.App.iOS.createUserNotificationAction({identifier:"REJECT_IDENTIFIER",title:"Reject",activationMode:Ti.App.iOS.USER_NOTIFICATION_ACTIVATION_MODE_BACKGROUND,destructive:!0,authenticationRequired:!1}),i=Ti.App.iOS.createUserNotificationCategory({identifier:"DOWNLOAD_CONTENT",actionsForDefaultContext:[t,e]});Ti.App.iOS.registerUserNotificationSettings({types:[Ti.App.iOS.USER_NOTIFICATION_TYPE_ALERT,Ti.App.iOS.USER_NOTIFICATION_TYPE_BADGE,Ti.App.iOS.USER_NOTIFICATION_TYPE_SOUND],categories:[i]}),Ti.App.iOS.addEventListener("localnotificationaction",function(t){"DOWNLOAD_CONTENT"==t.category&&"ACCEPT_IDENTIFIER"==t.identifier&&alert("start download"),t.badge>0&&Ti.App.iOS.scheduleLocalNotification({date:new Date((new Date).getTime()+3e3),badge:"-1"}),Ti.API.info(JSON.stringify(t))})}}require("alloy/controllers/BaseController").apply(this,Array.prototype.slice.call(arguments)),this.__controllerPath="index",this.args=arguments[0]||{},arguments[0]&&(__processArg(arguments[0],"__parentSymbol"),__processArg(arguments[0],"$model"),__processArg(arguments[0],"__itemTemplate"));var r=this,n={},s={};r.__views.win=Ti.UI.createWindow({id:"win"}),r.__views.win&&r.addTopLevelView(r.__views.win),r.__views.__alloyId0=Ti.UI.createView({backgroundColor:"white",layout:"vertical",id:"__alloyId0"}),r.__views.win.add(r.__views.__alloyId0),r.__views.__alloyId1=Ti.UI.createView({height:"30",id:"__alloyId1"}),r.__views.__alloyId0.add(r.__views.__alloyId1),r.__views.__alloyId2=Ti.UI.createView({layout:"horizontal",height:"35",id:"__alloyId2"}),r.__views.__alloyId0.add(r.__views.__alloyId2),r.__views.__alloyId3=Ti.UI.createLabel({text:"Ranging",id:"__alloyId3"}),r.__views.__alloyId2.add(r.__views.__alloyId3),r.__views.rangingSwitch=Ti.UI.createSwitch({value:!1,id:"rangingSwitch"}),r.__views.__alloyId2.add(r.__views.rangingSwitch),e?r.addListener(r.__views.rangingSwitch,"change",e):s["$.__views.rangingSwitch!change!toggleRanging"]=!0,r.__views.marshmellow=Ti.UI.createView({backgroundColor:"#94d8f8",height:100,width:250,top:10,id:"marshmellow"}),r.__views.__alloyId0.add(r.__views.marshmellow),r.__views.deviceTitle=Ti.UI.createLabel({width:Ti.UI.SIZE,height:Ti.UI.SIZE,color:"#000",top:10,left:5,text:"Adnan iBeacon",id:"deviceTitle"}),r.__views.marshmellow.add(r.__views.deviceTitle),r.__views.marshmellowProximity=Ti.UI.createLabel({width:Ti.UI.SIZE,height:Ti.UI.SIZE,font:{fontSize:30},color:"#000",top:30,left:5,text:"Proximity",id:"marshmellowProximity"}),r.__views.marshmellow.add(r.__views.marshmellowProximity),r.__views.marshmellowRSSI=Ti.UI.createLabel({width:Ti.UI.SIZE,height:Ti.UI.SIZE,font:{fontSize:30},color:"#000",top:30,right:5,text:"RSSI",id:"marshmellowRSSI"}),r.__views.marshmellow.add(r.__views.marshmellowRSSI),r.__views.mint=Ti.UI.createView({backgroundColor:"#a0cbad",height:100,width:250,top:10,id:"mint"}),r.__views.__alloyId0.add(r.__views.mint),r.__views.deviceTitle=Ti.UI.createLabel({width:Ti.UI.SIZE,height:Ti.UI.SIZE,color:"#000",top:10,left:5,text:"MacbookPro",id:"deviceTitle"}),r.__views.mint.add(r.__views.deviceTitle),r.__views.mintProximity=Ti.UI.createLabel({width:Ti.UI.SIZE,height:Ti.UI.SIZE,font:{fontSize:30},color:"#000",top:30,left:5,text:"Proximity",id:"mintProximity"}),r.__views.mint.add(r.__views.mintProximity),r.__views.mintRSSI=Ti.UI.createLabel({width:Ti.UI.SIZE,height:Ti.UI.SIZE,font:{fontSize:30},color:"#000",top:30,right:5,text:"RSSI",id:"mintRSSI"}),r.__views.mint.add(r.__views.mintRSSI),r.__views.adspace=Ti.UI.createImageView({top:10,width:141,height:100,backgroundColor:"#fff",id:"adspace"}),r.__views.__alloyId0.add(r.__views.adspace),n.destroy=function(){},_.extend(r,r.__views);var o=require("org.beuckman.tibeacons");Ti.API.info("module is => "+o),o.addEventListener("beaconProximity",t),r.win.open(),s["$.__views.rangingSwitch!change!toggleRanging"]&&r.addListener(r.__views.rangingSwitch,"change",e),_.extend(r,n)}var Alloy=require("alloy"),Backbone=Alloy.Backbone,_=Alloy._;module.exports=Controller;